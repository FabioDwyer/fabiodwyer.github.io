<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mood Soundtrack Generator</title>
    <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css">
</head>

<body>
    <header>
        <div class="wrapper">
            <div class="logo"></div>
            <h1>Fabio Dwyer</h1>
            <h2>Mood Soundtrack Generator:</h2>
        </div>
    </header>

    <main class="wrapper">
        <h3>Instructions:</h3>
        <ol>
            <li>Turn your speakers on. Loud!</li>
            <li>Just click the button below.</li>
            <li>Choose an option that better describes your current mood and I'll give you a good soundtrack for
                your moment.
            </li>
        </ol>
        <!-- Note: I used tabindex=0 on the li's to make it more accessible without the mouse, since li's were not giving me :focus effect as buttons. I was instructed by Joey how to use it and that it should have been used sparingly and carefully, because it can create issues with certain browsers. Because of running out of time, I've opted for this. In the near future, I plan to return to this project and include buttons instead of li's, in order to take advantage of the accessibility default of the button element. I'm aware of the risk, but it seems to be working fine in my project. -->
        
        <div class="dropdown">
            <button class="dropbtn">Soundtrack Generator</button>
            <div id="myDropdown" class="dropdownContent">
                <ul>
                    <li id="rock" tabindex="0">I'm starting my day, I need a kick in the butt!!</li>
                    <li id="latin" tabindex="0">I'm in love, gimme some sexy latin sugar, baby!</li>
                    <li id="blues" tabindex="0">I feel like I'm lost in the desert. And my horse left me...</li>
                    <li id="boogie" tabindex="0">My day is done, let's party like it's 1949!</li>
                </ul>
            </div>
        </div>

        <div id="playlistResult"></div>
        
    </main> <!-- End of wrapper -->

    <footer class="footer">
        <div class="wrapper">
            <p>ðŸŽµ All music written and performed by Fabio Dwyer</p> 
            <p>ðŸ’» Page designed and developed by Fabio Dwyer</p>          
            <h6>&copy; Copyrights Reserved</h6>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

    <script>
    $(document).ready(function() {
        
        // Dropdown Menu:

        $(window).on('click', function (event) {
            event.preventDefault();
            if (event.target.matches('.dropbtn')) {
                $('#myDropdown').toggleClass('show'); // opens dropdown
            } else {
                $('#myDropdown').removeClass('show'); // closes dropdown
            }
        });
            

        // Audio:
        // Song #1
        function rockSong(autoplay) {
            const playlist = document.createElement("audio");
            playlist.setAttribute("id", "playlist");
            playlist.setAttribute("controls", "controls");

            const rock = document.createElement("source");
            rock.setAttribute("src", "./assets/audioFiles/01rock.mp3");
            rock.setAttribute("type", "audio/mpeg");
            playlist.appendChild(rock);

            // Set the autoplay property:
            playlist.autoplay = autoplay;
            $('#playlistResult').empty(); 
            $('#playlistResult').append(playlist);
        }

        // Song #2
        function latinSong(autoplay) {
            const playlist = document.createElement("audio");
            playlist.setAttribute("controls", "controls");

            const latin = document.createElement("source");
            latin.setAttribute("src", "./assets/audioFiles/02latin.mp3");
            latin.setAttribute("type", "audio/mpeg");
            playlist.appendChild(latin);

            playlist.autoplay = autoplay;
            $('#playlistResult').empty(); 
            $('#playlistResult').append(playlist);
        }

        // Song #3
        function bluesSong(autoplay) {
            const playlist = document.createElement("audio");
            playlist.setAttribute("controls", "controls");

            const blues = document.createElement("source");
            blues.setAttribute("src", "./assets/audioFiles/03blues.mp3");
            blues.setAttribute("type", "audio/mpeg");
            playlist.appendChild(blues);

            playlist.autoplay = autoplay;
            $('#playlistResult').empty(); 
            $('#playlistResult').append(playlist);
        }

        // Song #4
        function boogieSong(autoplay) {
            const playlist = document.createElement("audio");
            playlist.setAttribute("controls", "controls");

            const boogie = document.createElement("source");
            boogie.setAttribute("src", "./assets/audioFiles/04boogie.mp3");
            boogie.setAttribute("type", "audio/mpeg");
            playlist.appendChild(boogie);

            playlist.autoplay = autoplay;
            $('#playlistResult').empty(); 
            $('#playlistResult').append(playlist);
        }

        // Creates click event on each item of the menu:
        $('#rock').on('click', function() {
            rockSong(true);
        });

        $('#latin').on('click', function() {
            latinSong(true);
        });

        $('#blues').on('click', function() {
            bluesSong(true);
        });

        $('#boogie').on('click', function() {
            boogieSong(true);
        });
        
    }); // End of document ready
    </script>
</body>

</html>